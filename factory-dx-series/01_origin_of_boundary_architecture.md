制御は現場に残す。だがデータは渡す。そのための橋を設計する
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 1/10）

はじめまして。
 長年、工場の OT（制御・設備・監視）と IT（データ・クラウド）の境界線で仕事をしてきました。
 これまで発信はしてきませんでしたが、今日からこの領域について少しずつ言語化していこうと思います。

工場の世界では、 “制御の原理” と “データ基盤の論理” は別の世界 です。
・センサーの種類（AI / DI / Pulse）
・PLC のレジスタ構造（Registers / Bits）
・SCADA が「監視中心」で制御を持たない理由
・設備単位で異なる工法・接続仕様
・現場ごとの制約、歴史的背景、運用思想
こういった「現場の哲学」が根底にある一方で、今の時代は クラウド連携・機械学習・可視化・時系列DB が不可欠です。

つまり、OT と IT の間には、自然には繋がらない断絶がある。
その断絶を埋める“橋”がなければ、データは活用できない。
私はこれまで、その“橋”を必死に作り続けてきました。
 
工場ごとに形が違うPLC、違うSCADA、違うネットワーク、違う制御思想。何度もやり直し、現場合わせし、泥臭く1つずつ積み上げてきました。

その経験を基に、OT × IT × Data の統合アーキテクチャを 1 枚にまとめた のがこちらです。

そして IT の方へ ——
工場には、
・ストリーミングデータ
・超長期の時系列
・異常検知や推定のユースケース
・分散拠点データの統合
・クラウド連携
・API化・外部連携
など、IT側の技術が活躍する場所が無限にあります。
ただし、それらを正しく活かすためには、制御層の哲学を壊さずにデータを受け渡す“橋”が必要 です。
私はその橋を設計する役割を担ってきましたし、今後はそのノウハウを公開し、OT と IT を“無理なく接続できる世界”を作ることに貢献したいと思っています。

これから発信していくテーマ
・工場の制御とデータ活用のギャップ
・OT/IT/クラウドを一体化するアーキテクチャ
・PLC・SCADA の実態に基づくデータ取得戦略
・Edge 〜 DB 〜 Cloud の設計
・異常検知・傾向監視・時系列分析
・工場特有のリアルな課題とその乗り越え方
・OT x IT人材としてのキャリア戦略

まだ情報発信の世界では新参者ですが、長く現場で苦しんできた人間だからこそ書けることを出していきます。
興味のある方、ぜひ議論や情報交換をしていただけると嬉しいです。

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7399066857283940352-bKla/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




OT と IT は、なぜ自然にはつながらないのか？
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 2/10）

前回投稿で「制御は現場に残す。だがデータは渡す。」という話をしましたが、今日はその背景にあるOT と IT の“断絶の正体”を掘り下げます。

1. 「目的」が根本的に違う
🏭 OT
・止めない／壊さないための技術
・制御周期は数ms
・工法・運用・歴史の積層が仕様そのもの
・“変えないこと”が品質
💻 IT
・より良いものに更新し続けるための技術
・スキーマもAPIも育てる前提
・“変えること”が品質

目的が「安定」と「変化」で真逆。
これが最初の断面です。

2. 同じデータを扱いながら「見ているもの」がまったく違う
OT と IT の表現が違うのは周知の事実ですが、本当の分断は“データの意味付け”にある と感じています。

🏭 OT
データは「プロセスの一部」
・ビット1つに現場の運用が宿る
・生値は設備文脈と不可分
・安全・動作・手順と一体化している

💻 IT
データは「抽象化された情報」
・統一スキーマで扱う
・物理的意味はアプリ側が吸収
・サービスごとに別文脈で再利用される

つまり
・OTデータ＝文脈依存
・ITデータ＝文脈抽象
この認識の差が、変換ロスや品質劣化、そして“繋がらなさ”を生みます。

だから OT→IT 変換では「構造」より先に「文脈」を理解する必要がある。
ここを飛ばすと、最終的にデータが使い物にならない。

3. 設計思想のレイヤーが噛み合わない
🏭 OT
・“壊れない”が最優先
・稼働中は触らない
・長寿命・現場最適化
・現場の改善サイクルで進化する
💻 IT
・“変えていく”ことが前提
・スキーマ成長・API拡張
・継続的デリバリ
・チームの改善サイクルで進化する

この差を理解していないと、「ちょっとデータ取りたいのでここ触っていいですか？」という IT 側の軽い一言が、OT 側には「プロセスリスクの持ち込み」に見えてしまう。両者は衝突しているのではなく、レイヤーがズレているだけ。だから双方を跨ぐ設計が必要になる。

4. “橋”を設計する仕事は、実はシステム連携では済まない
OT と IT を繋ぐと聞くと、
 「MQTT/OPC-UA で中継すればいいのでは？」
 「スキーマ決めれば終わりでは？」
と技術の話に寄りがちですが、実務上の本丸はむしろ 技術外の前提条件 にあります。
・工場ごとの仕様差・歴史的背景
・PLCアドレス体系のクセ
・MES、SCADAの制御哲学（書き換え禁忌領域）
・Edge配置の思想
・LAN境界の制約
・センサーモデルと品質ばらつき
・現場運用の流儀
・データ保持方針（“誰のための”履歴か）
・アプリ側の期待値（粒度・整合性・鮮度）

これら 全レイヤーを咀嚼して一本化する。
これが “橋渡しアーキテクト” の仕事だと考えています。
単に OT → IT のパイプを引くだけなら誰でもできます。
しかし 「工場として破綻しないデータ接続」を作れる人は少ない。

5. この “橋” をずっと現場で作ってきました
今後はなぜこの設計になるのか
・その裏にある暗黙知
・プロセスの文脈をどう抽象化するか
・工場ごとの差異をどう吸収するか

OT × IT × Data の交点に興味のある方に向け、こんな話を少しずつ言語化していきます。

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7399466317424271361-uGf5/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




工場データ基盤で “絶対に外せない前提条件” 5つ
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 3/10）

工場データ基盤は、クラウドや分析基盤を置くだけでは成立しません。
“工場という特殊環境” を正しく理解しないと、必ず破綻します。
現場で痛感した 「着手前に必ず押さえるべき前提」 を5つにまとめました。

1. 制御は現場（PLC）に残す —— これは絶対条件
 工場で最優先なのは 安全と停止しない運転。
 制御周期、インターロック、安全動作はITでは代替できません。
 データ取得側（IT）は制御を乱さないこと。

2. SCADAは“監視中心”。ついで制御は危険
 SCADAは実質「監視が主役」です。
 PLCのほうが圧倒的に安全で確実。
 “クラウド側から制御” は現場哲学と衝突する。

3. データパスは“歴史 × 工法”の積み重ね
 データパスは理想論ではなく、設備メーカー・工法・現場運用で決まります。“現場の実装” を理解しないとデータは渡せません。

4. RDBと時系列DBは「目的が違う」ため統合できない
 工場データは “センサー数 × 時間” の流れものデータ。
 ほぼ全てのアクセスは「このセンサーの連続データを高速に出す」というパターン。
 ・波形・履歴 → 時系列DB（高速スキャン）
 ・意味づけ・設定・しきい値 → RDB（構造化）
 両方を1つにまとめると、スキーマ破綻・性能劣化・再設計が必ず発生します。
 👉 役割分担が最適解。

5. 工場ネットワークは“SCADA〜MES〜IT”の階層構造。LANの常識では理解できない
 工場LANは OA と別世界です。
 ・PLC・ロボット：ミリ秒通信
 ・SCADA：数万点の監視
 ・MES：実績・品質・在庫
 ・Edge：境界と変換
 ・IT/Cloud：分析・統合
 この全体は 工程・制御・安全 に従属しており、“LANだから繋がるでしょ” という発想は通用しません。
 👉 データ基盤は工場LANの現実に合わせるしかない。

まとめ：工場データ基盤は “現場の哲学 × IT の技術” の交点にある
 ・制御安全
 ・工法差
 ・センサー/PLCの原理
 ・SCADA/MES の役割
 ・Edge の位置付け
 ・工場LANの階層構造
 ・DB の役割分担

これらの動かせない前提を理解して初めて、 “データを渡すための橋” が設計できます。


===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7399830697483485185-4ghD/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




RDB と 時系列DB（TSDB）は、なぜ分けるべきなのか？
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 4/10）

工場データ基盤を設計すると、必ず議論になるテーマです。
「RDB だけではダメなのか？」
「TSDB を増やすのは重すぎるのでは？」
結論は明確です。

工場データを 1 つの DB に統合すると、必ず数年で破綻します。
そして、現場では後から DB を追加できないため、最初の設計で“役割分担”を入れることは、生存戦略に近い重要性があります。
今回はその理由をまとめます。

1. 工場の時系列データは「構造化データ」ではない
 センサー値の本質は、テーブルではありません。
 “センサー × 時間軸” の連続データ（ストリーム） です。
 求められるのは：
 ・超高速の I/O
 ・連続スキャンのパフォーマンス
 ・ほぼ Append-only の書き込み
 ・古いデータの圧縮と長期保存

 つまり「構造化」ではなく 高速に流れるデータを“並び”で読む世界。
 これは RDB が最も苦手とする領域です。

2. ほとんどの問い合わせは「1センサー × 長時間」の抽出
 現場での利用パターンは極めて単純です。
 ・この温度センサーの 30 日分を見たい
 ・この圧力タグの変動を分析したい
 ・この設備だけの波形を集計したい

 つまり、
 JOIN も多対多の関係もほとんど必要ない。
 必要なのは ひたすら速い時間順スキャン。
 これは TSDB の得意分野であり、RDB が苦手とする最悪のワークロードです。

3. しかしセンサーの “意味づけ” は RDB でしか扱えない
 ここが最も誤解されやすいポイントです。
 工場のセンサーは時系列だけでなく、意味（属性）が頻繁に変化します。
 ・設備更新で所属ラインが変わる
 ・センサー交換でタグが変わる
 ・スロット構造や係数が変わる
 ・閾値やユニットが更新される
 ・組織改編で体系分類が変わる
 ・OA 側のマスタ更新と同期が必要

 さらに、工場システムの特徴として10 年前のデータを「今の構造」で参照したい。。

 これを実現するには：
 ・センサーの属性履歴
 ・設備階層の改廃履歴
 ・タグ・ラベルの変更履歴
 ・閾値の世代管理
 ・補正や計算ロジックのバージョン

 これらを 時系列に紐づけて保持し続ける必要がある。
 これは明確に RDB の仕事 です。
 TSDB に“意味の変化”を抱え込ませると即座に破綻します。

4. RDB と TSDB を 1 つに統合すると破綻する理由
 時系列（波形）には高速スキャンが必要
 属性情報（意味）には整合性管理が必要

 この 2 つは 求める能力が真逆 です。
 1 つの DB で両方を満たそうとすると
 ・スキーマが肥大化
 ・インデックス競合
 ・実行計画の乱れ
 ・巨大テーブル化
 ・読み出し性能の劣化
 ・属性変更の反映が困難
 ・長期データの整合性が維持できない

 結果として、波形も遅く、意味づけ管理も曖昧な“中途半端なDB” が生まれます。
 これは現場では絶対に使われなくなる。

5. 後から DB を追加できないからこそ「最初の分離」が極めて重要
 多くの工場では：
 ・基幹DBは増やせない
 ・運用体制上、新DBを受け入れられない
 ・SCADA側の仕様が固定
 ・運用部門の承認が必要
 ・予算・契約の制約が大きい

 つまり、「後からTSDBだけ追加しましょう」は現実的に不可能なケースが多い。
 だからこそ私はこう考えています。

 “後から増やせない”からではなく、
 “増やさないと10年持たない”から
 最初から RDB と TSDB を分けるべき。

 これは設計思想ではなく、
 長寿命の工場システムを守るための条件 です。

OT × IT × Data の交差点に興味がある方に参考になる情報をシェアしていきます

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7400186480373104640-1RCB/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




工場データ基盤は、なぜ“普通のITと同じ方法”では作れないのか？
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 5/10）

その最大の理由は、PLCの Registers / Bits が、データの性質・意味・テスト方法のすべてを IT と根本から変えてしまうからです。

1. PLCは「生データの世界」で動いている
 OA/クラウドが扱うのは 意味のあるデータ です。
 ・JSON
 ・変数名
 ・API仕様
 ・スキーマ

一方、PLCはこうです
 ・D100 
 ・M200 
 ・W300.05 
 ・R5000
 その意味は工場ごとに違い、定義書と現場の頭の中にしか存在しない。

2. 1ワードに“複数の意味”が圧縮されている
 PLCは 16bit の世界。1ワードに
 ・異常
 ・注意
 ・運転
 ・手動/自動
 ・インターロック
 ・断線検知
 ・履歴フラグ
 などが混在する。

 ・W300.00 = 異常 
 ・W300.01 = 注意 
 ・W300.02 = 運転 
 …

 この構造が、
 ・上りでは「ビット展開」
 ・下りでは「文脈をビットに圧縮」
 という強い非対称性を生む。

3. “意味の変更”が非常に難しい
 ITならスキーマを更新すれば良い。

 しかし工場では
 ・現場の運用手順に影響
 ・安全設計そのものに影響
 ・ベンダー間で整合性が必要

 つまり、小さな意味変更が構造破壊になる。
 ・現場には「変えないでほしい」という強い圧力がある
 ・データ側には「意味を増やしたい」という要求がある
 ここに恒常的なジレンマがある。

4. そして最大の問題：テストができない
 OAの常識
 ・テスト環境
 ・テストデータ
 ・ステージング
 ・CI/CD
 工場では一切通用しない。

 テスト環境は作れない
 本番設備は止められない
 真の挙動は本番でしか分からない

 つまり、
 「再現性 × テスト × 安心して変更」
 このITの三大原則が崩れる。
 これが工場DXの本当の難しさです。

5. では“何が橋桁（アーキ基礎）”になるのか？
 工場データ基盤は、以下の3つの“橋桁”をどう設計するかで成否が決まります。

 ① 上り（情報）
 ビットの変化をどう解釈するか？
 ・状態なのか
 ・イベントなのか
 ・ラッチなのか
 ・異常なのか
 これは後から変えられない“読み取り哲学”。

 ② 下り（指令）
 ・「いつ」「なぜ」「どの条件で」動かすのか？
 ・上位の文脈をどうビットに還元するか？
 安全性・運用方針そのもので、後変更は非常に困難。

③ 意味をどこで持つか（semantic ownership）
 ・PLCが意味を持つのか
 ・SCADA／Edgeで再構築するのか
 ・データ基盤で付与するのか
 ここを誤ると、データが必ず揺れ、OT と IT の世界観が永遠に噛み合わない。

🔥 結論
 工場データ基盤の本質的な難しさは、
 「データ性質 × 意味 × テスト不能性」
 という3つの非対称性にある。

 上り／下り／意味の所在という“橋桁”を最初に正しく設計できなければ、OT × IT の橋は決して架からない。

 技術を積み上げる前に、まずこの構造を理解することが、工場DXの出発点です。

引き続き、OT × IT × Data の交差点に興味がある方に参考になる情報をシェアしていきます

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7400545901728989184-lFqs/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 



工場接続は“揃わない前提”で設計するべきだ
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 6/10）

— OT × IT × Data を成立させるための本質

工場データ基盤の話をしていると、IT側からよくこう言われます。
「工場側は接続方式を統一できないのですか？」
「すべて OPC-UA に揃えればいいのでは？」
一見もっともな意見です。

しかし、現場の人間からすると “正しくて、正しくない” 質問 です。
ここで最初に結論を言います。
工場の接続方式は “揃える” ものではなく、“揃わない前提で設計する” 方が正しい。

揃わない理由は「工場が後ろ向きだから」でも「標準化が進んでないから」でもありません。
むしろ、工場の構造・歴史・投資の仕組みそのものが“揃わないこと”を必然にしているのです。

この記事ではその“構造的理由”と、それを踏まえた 正しいアーキテクチャ思想 をまとめます。

1. 設備の更新周期がバラバラ（統一は物理的に不可能）
 1つの工場に並んでいるのは：
 ・30年前のPLC
 ・10年前のSCADA
 ・数年前のロボット
 ・昨年入れた計測機器
 これらが同時に刷新されることは絶対にありません。
 当然、接続方式もこう並びます：
 ・RS-485 / 独自プロトコル
 ・Modbus-RTU / Modbus-TCP
 ・OPC-DA
 ・OPC-UA
 ・MQTT
 “揃う”はずがない、が正解です。

2. 工場のデータは“タダ”では生まれない（必ず投資が伴う）
 ITではログが勝手に増えます。
 しかし工場のデータは違います。
 ・センサをつける
 ・配線する
 ・PLCに割り当てる
 ・SCADAにタグを作る
 これらすべてが 追加投資 です。
 つまり工場のデータはOAのために生まれているのではなく、設備のために生まれている。
 だから「必要なデータの種類」も「整備され方」も工場によって大きく違います。

3. メーカー仕様・デファクトが“複数”存在する（揃わない土壌）
 ・PLC・ロボット・計測器には、
 ・独自メモリ構造
 ・独自バイナリプロトコル
 ・独自設定ツール
 ・専用SCADA連携
 が存在し、同じ目的でも通信仕様が全く違うことが当たり前です。
 これが“工場接続の多様性”を決定づけています。

4. 現場改善で仕様が変わり続ける（静的な統一はそもそも無理）
 工場に標準が1つあったとしても、
 毎日の改善（カイゼン）で必ずズレていきます。
 ・PLCレジスタの再割り当て
 ・SCADAタグの追加
 ・Edgeの読み出し順変更
 ・アラームロジック更新
 ・新設備導入
 つまり工場の接続仕様は “歴史の積み上げ” であって、
 後から統一して巻き戻すのは不可能です。

5. よくある失敗：上位スキーマを“あるデータだけ”で作ってしまう
 ここが現場で実際に起きる重大な問題です。
 SCADA や MES は
 ・信号名称
 ・工程名
 など、“そのとき取れるデータ” を中心に構造が作られています。

 しかし工場には本来、
 ・どの設備の
 ・どの位置の
 ・どの部位の
 ・どの機種の
 ・どの条件の
 という 重要な属性情報が現場にだけ存在します。
 ところが上位スキーマには 受け皿がない ため、“必要な情報がこぼれる” 構造に陥ります。
 これは 「データ中心スキーマ」設計の欠陥です。

6. 正しい方向性：データではなく“オブジェクト中心”のスキーマにする
 工場接続を揃えたいなら、スキーマ設計の思想を以下に変える必要があります。
 ■ データ → ×
 ■ オブジェクト（設備） → ◎
 設備というオブジェクトを中心に
 ・その設備の属性
 ・そこで取れるセンサ
 ・その位置や意味
 ・そのタグの文脈
 を表現できる構造にすること。

 データはオブジェクトの性質として配置するだけ。
 これにより、工場差異を失わずに統一できる柔軟なスキーマが成立します。

7. 「では、どう設計するのか？」— さわりだけ
 設計そのものは次回詳しく書きますが、考え方として重要なのはこの3つです。

 ①現場を“統一の対象”にしない
 下の層（PLC/SCADA）を揃えるほど破綻します。
 統一は プログラム可能なレイヤー（Edgeなど）まで持ち越す のが現実解。

 ②ハードの不揃いは“変換するしかない”という割り切り
 物理層の違いは設定では吸収できません。
 最近では、計測専用の安価PLC を“変換器”として置く工場も増えています。

 ③上位の統一スキームは “一般化 × オブジェクト中心” で作る
 工場の差異はデータそのものではなく、
 設備というオブジェクト に付随する情報で表現すべきです。

 この3つは、
 「工場は揃わない」という現実を前提にした、
 実務に耐えるアーキテクチャの基礎 になります。

■ まとめ
工場の接続方式は、理想ではなく現実の積み重ねで決まります。
・更新周期のズレ
・デファクトの多様性
・データがタダではない構造
・現場改善の積み上げ
・不十分なデータ中心スキーマ

これらすべてが絡み合い、工場接続は揃わない前提で考えるしかない、という結論になります。
しかしそれは悲観ではなく、アーキテクチャで解決できる問題 です。

引き続き、OT × IT × Data の交差点に興味がある方に参考になる情報をシェアしていきます

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7400886309134815234-IKCe/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




SCADA はなぜ「制御を持たない」のか？
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 7/10）

DX 時代でも「現地現物」を壊さないために必要なこと。

工場データ基盤やSCADAの話をすると、IT側からよく聞かれます。
「SCADA から制御すればいいのでは？」
「クラウドから稼働時刻を直接変えれば、もっとDXっぽいのでは？」
実はこの問いは、単に“慣習”の話ではありません。

国際標準でも、OT現場の安全思想でも、
「制御はローカル（PLC）に残すべき」と明確に定義されている原則 に基づきます。

1. 制御を PLC に残すのは「歴史」ではなく「世界標準」
 ISA/IEC 62443（産業サイバーセキュリティ国際規格）は、こう定義しています
 “Control functions shall remain local and non-network dependent.”
 「制御機能はローカルで保持し、ネットワーク依存にしてはならない」

 NIST SP 800-82（米国NISTの ICS ガイドライン）でも同様です
 “Safety-critical control should remain local to field devices.”
 「安全に関わる制御は現場デバイスにローカル保持すべき」

つまり、制御はクラウドやSCADAではなく、現場で完結し、現場で追える状態であること が世界標準です。


2. なぜ“現場で追える”ことが重要なのか？（現地現物の本質）
 私が特に強調したいのはここです。
 現場の担当者は、SCADA画面の前にいるわけではありません。
 ・制御盤
 ・ランプ
 ・各種安全リレー
 ・機械の音・振動
 ・開けた瞬間の電気的状態
 これが 現場で確認できる“真実” です。

 もし上位レイヤ（SCADA/MES/クラウド）が勝手に制御を書き換えると、
 ・現場に行っても何が起きているか分からない
 ・安全インターロックと矛盾が生じる
 ・設備の原因調査ができない
 ・緊急時の判断が遅れる

 ISA-101（HMI 標準）もこれを強く警告しています：
 “Operators must always know the true state of the process.”
 「オペレータは常にプロセスの“真実の状態”を把握できなければならない」

 現場で “分からない” 状況こそが、OTでは最大の事故要因です。


3. だからといって「上位レイヤ制御は禁止」なのではない
 DX時代には、PLC単体では実現できない “文脈の制御” が必要です。
 ・生産計画によるスケジュール変更
 ・省エネ最適化
 ・AI によるパラメータ推奨
 ・クラウド側の予兆からの調整

 問題は “制御を移すこと” ではなく、“現場が理解できる形で移す仕組みがないこと” です。


4. 上位レイヤが制御する時に必要なのは「儀式」である
 ISA-95（レベルモデル）は、こう定義します
 “Upper layers may request operations, but must not bypass local control logic.”
 「上位レイヤは操作要求はできるが、ローカル制御をバイパスしてはならない」

 クラウドやSCADAから制御を行う場合は、必ず
 ・現場オペレータの確認
 ・SCADA画面での差分可視化
 ・変更ログ（誰が・いつ・何を変えたか）
 ・PLCの安全インターロックを破壊しない
 ・現場に行けば必ず状態が分かる設計
 この 「儀式」 を通す必要があります。

 上位から制御を“禁止”するのではなく、現場が理解できる形で制御を渡すアーキテクチャを作る のです。


5. まとめ
 制御を PLC に残す理由は、古い習慣ではありません。
 ・世界標準（ISA/IEC 62443、ISA-95、ISA-101、NIST SP800-82）
 ・PLC/SCADAベンダーのガイドライン
 ・現場安全の哲学（現地現物）
 すべてが同じ思想を語っています。

 「制御を上位レイヤに移す時ほど、現場の理解性を保証するべき」
 DXとは、制御をクラウドに移すことではなく、境界を壊さずに文脈を渡す“設計”を行うこと です。

引き続きOT × IT × Data の交差点に興味がある方に参考になる情報をシェアしていきます

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7401219186020229120-M55Q/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




Edge PC が果たす 3つの役割
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 8/10）

— “揃わない工場接続” を前提に成立する唯一の境界レイヤ
工場データ基盤を語るうえで、もっとも誤解される存在が Edge PC です。

IT側からは「ゲートウェイでしょ？」
OT側からは「余計な装置では？」
しかし実際には、“揃わない工場” を前提にしたとき、Edge こそが最も重要なレイヤ になります。

工場の接続方式は構造的に揃いません
・古いPLCと新しいSCADAが混在
・設備ごとのプロトコル差
・カイゼンで仕様が毎日変化
・設備の歴史・投資背景・設計思想の違い
この “揃わらなさ” を吸収し、OT と IT の世界を両立させる唯一の場所
それが Edge です。

私がアーキテクチャの中心に Edge を置く理由は、このレイヤが 3つの世界を同時に成立させている からです。

1. OT を守る「境界レイヤ」
 第一の役割は、PLC/SCADA を外界から守る“盾” になること。
 ・OT と IT を物理的に分離
 ・制御信号を外部から触らせない
 ・誤操作・不正アクセスの遮断
 ・複雑な工場ネットワークを Edge 側で吸収

 つまり、“PLC をクラウドから守る最後の番人”です。
 工場が揃わない以上、OT側を壊さずに IT 活用を進めるには、
 境界としての Edge が不可欠 になります。


2. 異なる世界をつなぐ「翻訳装置」
 2つ目の役割は、OT の“アドレスと値の世界”を、IT の“意味と構造の世界”へ翻訳すること。

 ここでの翻訳は、Modbus→MQTT のような “単なるプロトコル変換”ではありません。
 工場データはそのままでは使えないため、Edge 内部では 意味・構造・文脈の3段階変換 が行われます。

 ① Adapter（受け皿）
 機器ごとにバラバラの生データを受け止める
 ・レジスタ番号
 ・ビット列
 ・1ms〜100ms の高速値
 ・メーカー独自バイナリ
 ・SCADA のタグ体系

 ② Normalizer（意味付け・構造化）
 世界観の変換がここで起きる
 ・レジスタ→意味のあるタグ
 ・瞬間値→時系列データ
 ・AI/DI/Pulse→属性データ
 ・設備情報（位置・系統・文脈）の付与
 → 「数字の羅列」→「意味のある情報」

 ③ Publisher（統一形式で出力）
 IT が扱える形式へ
 ・JSON
 ・Rowデータ
 ・MQTT
 ・HTTP
 ・Kafka

 OT の “局所・アドレス中心の世界” が、IT の “スキーマ・API中心の世界” に変換される。
 これが Edge の本質です。

3. 工場差異を吸収する「緩衝材」
 最後の役割は、“工場の揃わなさ”をすべて吸収するクッション になること。
 ・工場ごとの接続仕様差
 ・PLC/SCADA/設備のプロトコル差
 ・メーカー年式・モデル差
 ・現場改善による仕様変更の積み重ね
 ・ネットワーク制約
 ・サンプリング周期・品質のばらつき

 Edge がこれを吸収することで
 ・上位（クラウド/分析）の刷新が自由になる
 ・SCADAやPLCに新たな負荷をかけない
 ・古い設備も壊さず活用できる
 ・“統一できない工場”を無理なく扱える

 つまり Edge は、“OT と IT の間にあるあらゆる歪みを吸収する層”です。


まとめ
— 工場データ基盤は「揃わない現場」を前提にしたときにはじめて成立する
 Edge PC が果たす 3つの役割
 ・境界レイヤ（OTの安全を守る）
 ・翻訳装置（OT→IT の意味変換）
 ・緩衝材（工場差異の吸収）

その中心に立つのが Edge レイヤです。

OT × IT × Data の交差点に興味ある方、ぜひ意見交換しましょう。


===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7401581173841305600-3L4g/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




工場データ基盤は「保存」ではなく「流れ」を設計する
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 9/10）

— Edge の“意味”と、データバスの“流れ”を分けて考える

工場DXでは「どこに貯めるか」に注目されがちです。
しかし、本当の難所は “データがどう流れるか（流れの設計）” の方にあります。

工場の現場では、この“流れ”が破綻してしまうことで、どれだけ立派なDBやAIがあっても意図した価値が出ません。
その理由は、OT と IT の前提のズレ が流れの部分に集中しているからです。

■ 1. OTとITは「リアルタイム」を別の言葉として使っている
 同じ“リアルタイム”という言葉でも、意味が違います。

 ● IT（OA）のリアルタイム
 → サンプリング周期を落としたくない
 （1秒データは1秒のまま扱いたい）

 ● OTのリアルタイム
 → 遅延したデータは価値がなく、危険なこともある
 （3秒遅れた情報は判断に使えない）

 この 「時間」の捉え方のズレ は、DBやAIのレイヤでは解決できません。
 吸収できるのは
 データの流れそのものを管理する“流通レイヤ”（データバス）だけです。

 なぜなら
 ・いつ「取れたか」
 ・いつ「届いたか」
 ・いつ「使われたか」
 この3つのタイムラインを揃える役割は、流れを制御するレイヤにしかないからです。

■ 2. Edge は“意味の交点”、データバスは“流れの交点”
 シリーズで繰り返してきたように、Edgeは OT と IT の“最初の交点”です。
 しかしここで交わるのは 意味（セマンティクス） です。
 ● Edgeの役割（意味の統一）
 ・プロトコル変換
 ・工場固有の構造の吸収
 ・単位・方向・粒度の統一
 ・スキーマ付与
 ・データ品質情報の付与
 Edge = 意味を整えるレイヤ

 一方で、データバスで交わるのは 流れ（フロー） です。
 ● データバスの役割（流れの統一）
 ・遅延の吸収
 ・通信途絶の吸収
 ・再配信・複数用途への分岐
 ・イベント化
 ・MQTT/Kafka のような継続性の保証
 ・データバス = 流れを安定させるレイヤ

 この違いが理解されないと、Edgeに“流れの責務”まで背負わせて破綻します。

■ 3. 「変換の境界」は、用途と流れの間で引くべき
 永遠のテーマですが、
 どこまで Edge で変換し、
 どこから DB側で最終整形するか。
 理想を言えば「Edgeで全部正規化」ですが、やりすぎると逆に破綻します。

 だから現実的には
 ・Edge：最小限の意味付与
 ・データバス：用途に依存しない最低限の構造化
 ・DB：最終的な用途ごとの整形
 という分担が最も安定します。

 AWS IoT / Azure IoT / GCP IoT の構成を見ると
 実際にこの境界で切られているため、理解の補助になります。

■ 4. データバスはOTの“ローカルバッファ”とITの“クラスタリング”が唯一交わる場所
 OTとITの可用性思想は本来まったく違います。
 ● OTの可用性：ローカルバッファ思想
 ・一時ファイル
 ・ローカルDB
 ・リングバッファ
 ・WAN不信
 ・現場が責任を負う
 → 「落ちても局所で延命する」が前提

 ● ITの可用性：クラスタリング思想
 ・MQTTクラスタ
 ・Kafkaクラスタ
 ・コンシューマグループ
 ・レプリケーション
 → 「落ちても別ノードが継続する」が前提

 この2つの哲学は本来交わりません。
 唯一交わるのが、データバス（流通レイヤ）です。

 ここで OT の“現地延命”とIT の“継続流通”を同時に成立させる必要がある。
 ここが強い工場は、後段のデータ活用（AI・BI・解析）が桁違いに伸びます。

■ 5. データバスは「アプリ追加に強い」
——これがDXのスケールに直結する

 データバスに乗っているデータは
 ・時間軸が整い
 ・遅延や欠損が吸収され
 ・配信方式が統一され
 ・再利用しやすい形に整えられている

 だから新しい用途（App/DB/AI）が増えた時、
 “データバスから取るだけ”で新しい取り組みが立ち上がる。
 ・新しいAI → バスから取る
 ・新しい BI → バスから取る
 ・新しい MES → バスから取る
 ・新しい DB → バスから取る

 反対にデータバスが弱い工場では
 ・用途が増えるたびにETLが乱立
 ・同じ意味のデータを何回も抽出
 ・担当者が変わると同じ構造が再構築される
 →データ活用が前に進まない、という“よくある未来”になります。

■ 結論：
工場データ基盤は
 「意味（Edge）」と「流れ（データバス）」を
 分けて設計したとき、破綻を免れる。

・Edge：工場差異とデータの意味を統一する場所
・データバス：流れと可用性を統一する場所
・DB/TSDB：履歴を保持する場所
・アプリ：価値を生み出す場所

この設計ができると、
工場データは 「揃って・流れて・残り、 そして“増やせる”」ようになります。


OT × IT × Data の交差点に興味ある方、ぜひ意見交換しましょう。

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

貼り付け元  <https://www.linkedin.com/posts/h-arakawa_iunismdx-oteeqit-scada-activity-7401933690274217984-fXon/?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFbu8QEBITdyLj39-zOBiy8wcuM05PxaI0c> 




工場DXの落とし穴
（制御 × 情報 × データの交差点から見る工場アーキテクチャ 10/10）

工場DXは、クラウドやAIを置けば成立するものではありません。
 むしろ「工場だからこそ存在する落とし穴」を理解していないと、
 静かに、しかし確実に失敗します。
複数プロジェクトを横断して見えてきた“共通の落とし穴”をまとめました。

1. IT側が“欲しい情報の構造”を理解しないまま進めてしまう
 工場DXで最初に起きるつまずきは、
 そもそも“本当に欲しい情報が現場でどのように存在しているか”を知らない
 という問題です

 ・生産台数は「正常」と「異常」に分かれて記録されている
 ・本当に重要な値は日報や手書きメモにしか無い
 ・制御周期・安全設計など、現場では常識の前提が漏れている

 つまり、“どのデータを取るか”よりも、 “現場ではそれがどう表現されているか”の理解が先。
 DXが失敗するのは「データがない」からではなく、
 “必要な情報そのものを取り違えている” から起きます。


2. OT側は、目的が見えないまま「データだけ要求される」と動けない
 DXではよく「このデータ下さい」と言いがちですが、これでは現場は協力しづらくなります。

 必要なデータがそのままの形で存在しない時、本来なら OT からは
 ・生産異常が無くても、設備停止回数なら近似になる
 ・工法や癖を踏まえると、別のタグの方が意味がある
 といった代替案が自然に出てきます。

 しかし、そのために必要なのは、そうした話が気軽に出てくる”目的の共有”と“現場との関係性”。

 これはPM論ではなく、DXアーキにおける要件精度の根幹です。


3. 「統一すれば解決する」という幻想
 「工場の接続方式を統一しましょう」と言われますが、
 これは現場の視点では “正しくて、正しくない” 質問です。

 結論から言うと、
 工場の接続方式は“揃える”ものではなく、“揃わない前提で設計する”もの。

 揃わない理由は怠慢ではありません。
 ・設備の歴史と投資の積み重ね
 ・工法・条件の蓄積
 ・メーカー・機種構成の多様性
 ・工場ごとの事情

 これらが、「揃わないこと」を構造的な必然にしている のです。
 この前提を外してDXを設計すると、どこかで確実に破綻します。


4. 「まず全部集める」から始めてしまう
 DX初期の典型的な落とし穴は、
 「とりあえず全部集めておけば、あとで何か出るはず」
 という考えです。

 しかし工場データでは、これは特に危険です。
 ・意味づけされていないデータは後から読めない
 ・データ量が多いほど“見る側のスキル”が必要になり見られない
 ・取得・保存コストだけが先に膨らむ

 大事なのは、“まず大量収集”から始めるのではなく、“意味のある構造を先に決める”こと。
 “小さく始める”という規模の話もありますが、
 “意味をつけない大量データ”が最も危険 なのです。


5. レイヤの境界は動かさない（SCADA × Edge × DB の一貫した原則）
 工場DXのアーキテクチャで絶対に外せないのが、
 レイヤの境界を動かさない という原則です。

5-1. SCADAの境界：監視であって制御ではない
 SCADAは監視レイヤです。
 ・制御ロジック
 ・補正処理。。。
 これらをSCADAに混ぜると、安全・品質・アーキがすべて崩れます。

5-2. Edgeの境界：翻訳・差異吸収・盾
 Edgeは工場DXの“境界専用レイヤ”です。
 ここを軽視すると、DXは必ずどこかで止まります。

5-3. DBの境界：RDBとTSDBは混ぜない
 RDBとTSDBには明確な役割分担があります。
 ・RDBはメタ情報
 ・TSDBは履歴情報

 これを混ぜると、
 クエリ爆発 → スキーマ崩壊 → 作り直し
 の順で崩れていきます。

 しかし、現場では“理想通りの境界”は守れない。
 理想アーキがそのまま入る方が珍しいです。
 ・古いSCADA
 ・改修できないPLC
 ・Edgeの制約
 ・投資サイクル
 ・OTネットワークの事情
 ・導入タイミングのズレ
 これらは現場では“普通”に起こります。

 だからこそ重要なのは、アーキテクトとして意図を持って着地させること。

 原則は2つです。
 ✔ ① 変化に強いレイヤー側に寄せる
 ・変わりにくいのは OT
 ・変えやすいのは IT
 ・PLC → ほぼ変えられない
 ・SCADA → 変えにくい
 ・Edge → 比較的変えられる
 ・IT → 最も変えられる

 理想から外れる場合は、“動かしやすい側” に寄せて着地させる。
 これは妥協ではなく、アーキ全体を壊さないための戦略です。

 ✔ ② 例外は“後で壊される前提”で作り、壊すときは“そこだけで済む”ように責務を極小化して閉じる

 重要なのは、“その部分だけ壊せば済む”ように隔離すること。
 ・その場所に複雑さを積まない
 ・他レイヤに依存させない
 ・横展開しない
 ・例外を常態化させない

これにより、最小コストで理想アーキに戻す未来を塞がず、DX全体の構造を守ることができる。


8. 現場の“哲学”に踏み込むことは避けられない。だから価値で返す
 工場には、安全第一・現場起点など長く積み上がった“哲学”があります。

 DXはこの哲学の“外側”だけでは進みません。
 どこかで必ず内側に踏み込みます。

 しかしこれはピンチではなくチャンスです。
 実際、ITの仕組みが少し入るだけで、
 「こんな仕組みだけでこんなに助かるのか」
 という改善がよく生まれます。

 大切なのは、哲学を尊重しつつ、現場が“これは助かる”と思える価値を返すこと。
 難しいことではなく、小さな改善を一緒に積み上げることがDXを前に進めます。


■ 結論：だから“橋”を設計する
工場DXの本質は、クラウドでもAIでもありません。

OTとITの間に“橋”をどう作るか。
この橋を設計できて初めて、工場DXは“安全に前へ進む”ようになります。

OT × IT × Data の交差点に興味ある方、ぜひ意見交換しましょう。
次回：シリーズ総まとめ ＋ Bonus（価値編）です

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話）
✦ 過去投稿はプロフィールから見れます

工場DXは“橋の設計”であり、価値を流し続ける構造の話である
（制御 × 情報 × データの交差点から見る工場アーキテクチャ：Bonus編）

10回のシリーズを通して、
工場DXがなぜ難しく、どこで破綻しやすいのかを整理してきました。

結論として工場DXアーキテクチャは、
OTとITの間にどのような“橋”を設計するか、に尽きます。

テクノロジーやツールの話ではなく、
価値が滞らずに流れ続ける構造 をどう作るかの話です。

■ シリーズ総まとめ
工場DXに必要な構造は、次の 4層＋データバス に集約されます。
【1】OT層
 制御・安全・現地現物。
 この層は“動かしてはならない領域”であり、
 DX側が越境すると現場が止まります。

【2】Edge層
 プロトコル吸収、正規化、品質担保、工場差異吸収。
 工場DXの中核レイヤ であり、
 ここが弱いとDXはどこかで破綻します。

【3】データバス
 “保存”ではなく “流れ”を設計する層。
 工場差異やサンプリング欠損を上位に持ち込ませず、
 用途ごとの流れを安定化させる背骨。

【4】IT層（RDB / TSDB / API）
 意味（RDB）と履歴（TSDB）を分離し、
 APIで境界を明確に保つ層。
 ここが曖昧だと基盤は膨張し、再現性が失われます。

【5】AI / BI
 AIは最後で良い。
 意味付け・品質担保・差異吸収・流れが整ったとき、
 初めて価値を発揮します。

🎁 Bonus（思想編）
■ 良いアーキは「最初から必須」ではない
 このシリーズで示してきた原理は、特別な理論ではありません。
 ・境界を守る
 ・違いを吸収する
 ・データが意味を持って流れ続けるよう構造化する
 ただそれだけです。

 アーキテクチャとは、
 価値を継続的に生み出すために
 世界をどう構造化するかという“意図の表れ” です。
 最初から完璧である必要はありません。

 しかし、目的があるなら必ずそのための 構造（橋） が必要になる。
 これは工場DXでもまったく同じです。

■ 技術者が現場を見ると“価値の流れ”が見えてくる
 工場DXの現場では、
 目の前のタスクに追われ「まずは動かす」「まずは納める」が目的化されがちです。
 これは責任感の表れであり悪くありません。

 ただ、その状態では 価値がどこで滞っているのか が見えにくくなることがあります。
 少し視点を引き上げ、現場を見に行くと、技術者ならではの気づきが必ずあります。

 ・どこで手戻りが生まれているのか
 ・どこでデータが壊れているのか
 ・どこが負担の中心になっているのか
 これらはすべて、価値が流れ続けるアーキテクチャの材料 です。

 現場にしかない“真実の構造”を理解することで、橋の設計はより強くなります。

■ 結び
 強いアーキは、価値を流し続けます。
 価値の流れは改善を生み、
 改善が新たな価値を生み、
 その価値が投資となり、アーキをまた強くする。

 この循環が動き始めれば
 場当たりではなく継続性のあるDXへと変わる。

 エンジニアリングでその循環を実現できたら、
 —— いえ、それを実現するためにアーキテクチャは存在します。

 シリーズを通して読んでくださった皆さま、ありがとうございました。
 
 これからも OT × IT × Data の交差点から、
 価値が流れ続ける工場のヒントを発信していきます。

===
ハッシュタグ#工場DX
ハッシュタグ#OTとIT
ハッシュタグ#SCADA
 
✦ 制御 × 情報 × データの交差点から見る工場アーキテクチャ（全10話＋Bonus）
https://lnkd.in/eDQAmci8

✦ 過去投稿はプロフィールから見れます